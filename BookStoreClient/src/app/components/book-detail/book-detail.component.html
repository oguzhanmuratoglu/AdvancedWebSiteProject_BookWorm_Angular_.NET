<!-- ====== MAIN CONTENT ====== -->
<div class="page-header border-bottom">
    <div class="container">
        <div class="d-md-flex justify-content-between align-items-center py-4">
            <h1 class="page-title font-size-3 font-weight-medium mb-md-0 text-lh-lg">{{max70Character(response.data[0].titleEn)}}</h1>
            <nav class="woocommerce-breadcrumb font-size-2">
                <a href="/" class="h-primary">Home</a>
                <span class="breadcrumb-separator mx-1"><i class="fas fa-angle-right"></i></span>
                <a href="/books-list-by-category/{{r.id}}" class="h-primary" *ngFor="let r of response.categories">{{r.name}} || </a>
                <span class="breadcrumb-separator mx-1"><i class="fas fa-angle-right"></i></span>{{max20Character(response.data[0].titleEn)}}
            </nav>
        </div>
        
    </div>
</div>
<div id="primary" class="content-area">
    <main id="main" class="site-main ">
        <div class="product">
            <div class="container mb-6">
                <div class="row">
                    <div class="col-md-4 col-lg-3 woocommerce-product-gallery woocommerce-product-gallery--with-images images">
                        
                        <figure class="woocommerce-product-gallery__wrapper pt-8 mb-0">
                            <div class="js-slick-carousel u-slick">
                        <div class="card">
                            <p-galleria [value]="images" 
                            [showIndicators]="false" [showItemNavigatorsOnHover]="true" 
                            [showItemNavigators]="true" [responsiveOptions]="responsiveOptions" 
                            [containerStyle]="{ 'max-width': '640px' }"> 
                                <ng-template pTemplate="item" let-item>
                                    <div style="width: 330px; height: 470px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                        <img [src]="item.imgUrl" style="width: 100%; height: 100%; height: 100%; display: block;" />
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="thumbnail" let-item>
                                    <div class="grid grid-nogutter justify-content-center">
                                        <div style="width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                            <img class="img-fluid h-100" [src]="item.imgUrl" style="display: block;">
                                            </div>
                                    </div>
                                </ng-template>
                            </p-galleria>
                        </div>
                    </div>
                </figure>

                    </div>
                    <div class="col-md-8 col-lg-5 pl-0 summary entry-summary">
                        <div class="space-top-2 pl-4 pl-wd-6 px-wd-7 pb-5">
                            <h1 class="product_title entry-title font-size-7 mb-3">{{response.data[0].titleEn}}</h1>

                            <div class="font-size-2 mb-4 d-flex justify-content-between">
                                <div>
                                        <span class="text-yellow-darker">
                                                <i class="cursor font-size-lg"
                                                    [ngClass]="(response.bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                    : (response.bookAverageReviewRating > 0 && response.bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                <i  class="cursor font-size-lg"
                                                    [ngClass]="(response.bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                    : (response.bookAverageReviewRating > 1 && response.bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                <i  class="cursor font-size-lg"
                                                    [ngClass]="(response.bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                    : (response.bookAverageReviewRating > 2 && response.bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                <i  class="cursor font-size-lg"
                                                    [ngClass]="(response.bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                    : (response.bookAverageReviewRating > 3 && response.bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                <i  class="cursor font-size-lg"
                                                    [ngClass]="(response.bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                    : (response.bookAverageReviewRating > 4 && response.bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                        </span>
                                        <span class="ml-1">({{response.data[0].bookReviews.length}})</span>
                                </div>

                                <div>
                                    <span class="ml-3 font-weight-medium">By</span>
                                    <span class="ml-2 text-gray-600">
                                        <a href="/author-detail/{{response.data[0].authorId}}">{{response.data[0].author.fullName}}</a>   (author)</span>
                                </div>
                                
                                
                            </div>
                            <div class="woocommerce-product-details__short-description font-size-2 mb-5">
                                <p class="">{{response.data[0].subTitleEn}}</p>
                            </div>

                            <ul class="list-unstyled my-0 list-features d-xl-flex align-items-center">
                                <li class="list-feature mb-6 mb-xl-0 mr-xl-4 mr-wd-6">
                                    <div class="media">
                                        <div class="feature__icon font-size-46 text-primary text-lh-xs">
                                            <i class="glyph-icon flaticon-delivery"></i>
                                        </div>
                                        <div class="media-body ml-4">
                                            <h6 class="feature__title">Free Delivery</h6>
                                            <p class="feature__subtitle m-0">Orders over $100</p>
                                        </div>
                                    </div>
                                </li>
                                <li class="list-feature mb-6 mb-xl-0">
                                    <div class="media">
                                        <div class="feature__icon font-size-46 text-primary text-lh-xs">
                                            <i class="glyph-icon flaticon-credit"></i>
                                        </div>
                                        <div class="media-body ml-4">
                                            <h6 class="feature__title">Secure Payment</h6>
                                            <p class="feature__subtitle m-0">100% Secure Payment</p>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="border mt-md-8">
                            <div class="bg-white-100 py-4 px-5">
                                <p class="price font-size-22 font-weight-medium mb-0">
                                    <span class="woocommerce-Price-amount amount">{{minPrice}}₺
                                    </span> –
                                    <span class="woocommerce-Price-amount amount">{{maxPrice}}₺
                                    </span>
                                </p>
                            </div>
                            <div class="py-4 px-5">
                                <label class="form-label font-size-2 font-weight-medium">Book Format</label>

                                <!-- Select -->
                                <select class=" selectpicker dropdown-select w-100 position-relative mb-4"
                                    data-style=" border px-4 py-2 rounded-0 height-5 outline-none shadow-none form-control font-size-2"
                                    data-show-subtext="true"
                                    data-dropdown-align-right="true" [(ngModel)]="selectedVariationId">
                                    
                                    <option [value]="response.data[0].bookVariations[0].id"> <span class="font-weight-medium text-dark">Hardcover</span>

                                        <div *ngIf="response.data[0].bookVariations[0].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                            <ins class="text-decoration-none mr-2" 
                                            ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">
                                                {{response.data[0].bookVariations[0].prices[0].discountedPriceAmount}}</span>{{response.data[0].bookVariations[0].prices[0].priceCurrency}}
                                            </span></ins>
                                            <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">
                                                {{response.data[0].bookVariations[0].prices[0].priceAmount}}</span>{{response.data[0].bookVariations[0].prices[0].priceCurrency}}
                                            </span></del>
                                        </div>


                                        <div *ngIf="response.data[0].bookVariations[0].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                            <ins class="text-decoration-none mr-2" 
                                            ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{response.data[0].bookVariations[0].prices[0].priceAmount}}</span>{{response.data[0].bookVariations[0].prices[0].priceCurrency}}</span></ins>
                                        </div>
                                    </option>

                                    <option [value]="response.data[0].bookVariations[1].id">

                                        <span class="font-weight-medium text-dark">AudioBook</span>

                                        <div *ngIf="response.data[0].bookVariations[1].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                            <ins class="text-decoration-none mr-2" 
                                            ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">
                                                {{response.data[0].bookVariations[1].prices[0].discountedPriceAmount}}</span>{{response.data[0].bookVariations[1].prices[0].priceCurrency}}
                                            </span></ins>
                                            <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">
                                                {{response.data[0].bookVariations[1].prices[0].priceAmount}}</span>{{response.data[0].bookVariations[1].prices[0].priceCurrency}}
                                            </span></del>
                                        </div>


                                        <div *ngIf="response.data[0].bookVariations[1].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                            <ins class="text-decoration-none mr-2" 
                                            ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{response.data[0].bookVariations[1].prices[0].priceAmount}}</span>{{response.data[0].bookVariations[1].prices[0].priceCurrency}}</span></ins>
                                        </div>

                                    </option>

                                    <option [value]="response.data[0].bookVariations[2].id">

                                        <span class="font-weight-medium text-dark">Kindle</span>

                                        <div *ngIf="response.data[0].bookVariations[2].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                            <ins class="text-decoration-none mr-2" 
                                            ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">
                                                {{response.data[0].bookVariations[2].prices[0].discountedPriceAmount}}</span>{{response.data[0].bookVariations[2].prices[0].priceCurrency}}
                                            </span></ins>
                                            <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">
                                                {{response.data[0].bookVariations[2].prices[0].priceAmount}}</span>{{response.data[0].bookVariations[2].prices[0].priceCurrency}}
                                            </span></del>
                                        </div>


                                        <div *ngIf="response.data[0].bookVariations[2].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                            <ins class="text-decoration-none mr-2" 
                                            ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{response.data[0].bookVariations[2].prices[0].priceAmount}}</span>{{response.data[0].bookVariations[2].prices[0].priceCurrency}}</span></ins>
                                        </div>

                                    </option>
                                </select>
                                <!-- End Select -->

                                <div  class="cart mb-4">
                                    <label class="form-label font-size-2 font-weight-medium" for="quantity">Quantity</label>
                                    <div class="quantity mb-4 d-flex align-items-center">
                                        <!-- Quantity -->
                                        <div class="border px-3 w-100">
                                            <div class="js-quantity">
                                                <div class="d-flex align-items-center">
                                                    <label class="screen-reader-text sr-only" >Quantity</label>
                                                    <input type="number" class="input-text qty text form-control text-center border-0" name="quantity" [(ngModel)]="quantity" value="1">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- End Quantity -->
                                    </div>
                                    <p-toast position="bottom-right" key="br"></p-toast>
                                    <button type="submit" name="add-to-cart" value="7145" class="btn btn-block btn-dark border-0 rounded-0 p-3 single_add_to_cart_button button alt" (click)="addItemToCart()" >Add to cart</button>
                                </div>

                                <ul class="list-unstyled nav d-block d-md-flex justify-content-center">
                                    <li class="mr-md-4 mb-4 mb-md-0">
                                        <a href="#" class="h-primary"><i class="flaticon-heart mr-2"></i> Add to Wishlist</a>
                                    </li>
                                    <li class="">
                                        <a href="#" class="h-primary"><i class="flaticon-share mr-2"></i> Share</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
                <div class="woocommerce-tabs wc-tabs-wrapper mb-10">
                    <!-- Nav Classic -->
                    <ul class="tabs wc-tabs nav border-bottom justify-content-md-center flex-nowrap flex-md-wrap overflow-auto overflow-md-visble" id="pills-tab" role="tablist">
                        <li class="flex-shrink-0 flex-md-shrink-1 nav-item">
                            <a class="py-4 nav-link font-weight-medium active"  id="pills-one-example1-tab" data-toggle="pill" href="#pills-one-example1" role="tab" aria-controls="pills-one-example1" aria-selected="true">
                                Description
                            </a>
                        </li>
                        <li class="flex-shrink-0 flex-md-shrink-1 nav-item">
                            <a class="py-4 nav-link font-weight-medium" id="pills-two-example1-tab" data-toggle="pill" href="#pills-two-example1" role="tab" aria-controls="pills-two-example1" aria-selected="false">
                                Product Details
                            </a>
                        </li>
                        <li class="flex-shrink-0 flex-md-shrink-1 nav-item">
                            <a class="py-4 nav-link font-weight-medium" id="pills-three-example1-tab" data-toggle="pill" href="#pills-three-example1" role="tab" aria-controls="pills-three-example1" aria-selected="false">
                                Videos ({{response.data[0].bookVideoUrls.length }})
                            </a>
                        </li>
                        <li class="flex-shrink-0 flex-md-shrink-1 nav-item">
                            <a class="py-4 nav-link font-weight-medium" id="pills-four-example1-tab" data-toggle="pill" href="#pills-four-example1" role="tab" aria-controls="pills-four-example1" aria-selected="false">
                                Reviews ({{response.reviewCount}})
                            </a>
                        </li>
                    </ul>
                    <!-- End Nav Classic -->
    
                    <!-- Tab Content -->
                    <div class="tab-content container" id="pills-tabContent">
                        <div class="woocommerce-Tabs-panel panel col-xl-8 offset-xl-2 entry-content wc-tab tab-pane fade pt-9 show active" id="pills-one-example1" role="tabpanel" aria-labelledby="pills-one-example1-tab">
                            <!-- Mockup Block -->
                            <p class="mb-0">{{response.data[0].descriptionEn}}</p>
                            <!-- End Mockup Block -->
                        </div>
                        <div *ngIf="selectedVariationId == response.data[0].bookVariations[0].id" class="woocommerce-Tabs-panel panel col-xl-8 offset-xl-2 entry-content wc-tab tab-pane fade pt-9" id="pills-two-example1" role="tabpanel" aria-labelledby="pills-two-example1-tab">
                            <!-- Mockup Block -->
                            <div class="table-responsive mb-4">
                                <table class="table table-hover table-borderless">
                                    <tbody>
                                        <tr>
                                            <th class="px-4 px-xl-5">Format: </th>
                                            <td class="">{{response.data[0].bookVariations[0].productDetail.formatEn}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Dimensions</th>
                                            <td>{{response.data[0].bookVariations[0].productDetail.dimensions}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Publication date: </th>
                                            <td>{{formatDate(response.data[0].bookVariations[0].productDetail.publicationDate)}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Publisher:</th>
                                            <td>{{response.data[0].bookVariations[0].productDetail.publisherEn}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Language:</th>
                                            <td>{{response.data[0].bookVariations[0].productDetail.languageEn}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- End Mockup Block -->
                        </div>
                        <div *ngIf="selectedVariationId == response.data[0].bookVariations[1].id" class="woocommerce-Tabs-panel panel col-xl-8 offset-xl-2 entry-content wc-tab tab-pane fade pt-9" id="pills-two-example1" role="tabpanel" aria-labelledby="pills-two-example1-tab">
                            <!-- Mockup Block -->
                            <div class="table-responsive mb-4">
                                <table class="table table-hover table-borderless">
                                    <tbody>
                                        <tr>
                                            <th class="px-4 px-xl-5">Format: </th>
                                            <td class="">{{response.data[0].bookVariations[1].productDetail.formatEn}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Dimensions</th>
                                            <td>{{response.data[0].bookVariations[1].productDetail.dimensions}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Publication date: </th>
                                            <td>{{formatDate(response.data[0].bookVariations[1].productDetail.publicationDate)}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Publisher:</th>
                                            <td>{{response.data[0].bookVariations[1].productDetail.publisherEn}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Language:</th>
                                            <td>{{response.data[0].bookVariations[1].productDetail.languageEn}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- End Mockup Block -->
                        </div>
                        <div *ngIf="selectedVariationId == response.data[0].bookVariations[2].id" class="woocommerce-Tabs-panel panel col-xl-8 offset-xl-2 entry-content wc-tab tab-pane fade pt-9" id="pills-two-example1" role="tabpanel" aria-labelledby="pills-two-example1-tab">
                            <!-- Mockup Block -->
                            <div class="table-responsive mb-4">
                                <table class="table table-hover table-borderless">
                                    <tbody>
                                        <tr>
                                            <th class="px-4 px-xl-5">Format: </th>
                                            <td class="">{{response.data[0].bookVariations[2].productDetail.formatEn}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Dimensions</th>
                                            <td>{{response.data[0].bookVariations[2].productDetail.dimensions}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Publication date: </th>
                                            <td>{{formatDate(response.data[0].bookVariations[2].productDetail.publicationDate)}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Publisher:</th>
                                            <td>{{response.data[0].bookVariations[2].productDetail.publisherEn}}</td>
                                        </tr>
                                        <tr>
                                            <th class="px-4 px-xl-5">Language:</th>
                                            <td>{{response.data[0].bookVariations[2].productDetail.languageEn}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- End Mockup Block -->
                        </div>
                        <div class="woocommerce-Tabs-panel panel col-xl-8 offset-xl-2 entry-content wc-tab tab-pane fade pt-9" id="pills-three-example1" role="tabpanel" aria-labelledby="pills-three-example1-tab">
                            <!-- Mockup Block -->
                            <div class="d-flex mb-8 justify-content-center">
                                <div *ngFor="let v of response.data[0].bookVideoUrls let i = index">
                                    <button type="button" class="product__video js-fancybox d-block p-4 border position-relative max-width-400 mr-3"  
                                    data-bs-toggle="modal"  [attr.data-bs-target]="'#exampleModal'+ i">
                                        <span class="position-absolute-center text-dark font-size-10"><i class="flaticon-multimedia"></i></span>
                                        <div class="hover-area">

                                            <div style="width: 300px; height: 150px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="v.coverImgUrl" class="img-fluid d-block mx-auto mb-7" style="object-fit: contain !important;" alt="image-description">
                                            </div>

                                            <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-dark">{{getMax28Character(v.videoTitle)}}</h2>
                                        </div>
                                        <span class="text-white bg-dark px-3 py-1 position-absolute bottom-0 right-0">{{v.videoDuration}}</span>
                                    </button>

                                        <!-- Modal -->
                                        <div class="modal fade" [id]="'exampleModal' + i" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" (hidden.bs.modal)="onModalHidden(i)">
                                            <div class="modal-dialog modal-dialog-centered modal-lg">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <div >
                                                        <h1 style="margin-bottom: 0.5rem;line-height: 1.25;font-size: 1.25rem; width: 70%;" id="exampleModalLabel">{{v.videoTitle}}</h1>
                                                    </div>
                                                <button type="button" data-bs-dismiss="modal" aria-label="Close" style="
                                                appearance: none;
                                                width: 1.5em;
                                                height: 1.5em;
                                                padding: 0;
                                                cursor: pointer;
                                                background: transparent;
                                                border: 0;
                                                position: absolute;
                                                top: 0.5em;
                                                right: 0.5em;
                                                font-size: 1.25rem;"
                                                 aria-label="Close">
                                                    <i class="fas fa-times"></i>
                                                  </button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="embed-responsive embed-responsive-16by9">
                                                        <!-- Replace the video source with your own -->
                                                        <iframe id="videoIframe{{i}}" class="embed-responsive-item" 
                                                        [src]="getSafeVideoUrl(v.videoUrl)"  allowfullscreen></iframe>
                                                    </div>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    <!-- Modal -->
                                </div>
                            </div>
                            <!-- End Mockup Block -->
                        </div>
                        <div class="woocommerce-Tabs-panel panel col-xl-8 offset-xl-2 entry-content wc-tab tab-pane fade pt-9" id="pills-four-example1" role="tabpanel" aria-labelledby="pills-four-example1-tab">
                            <!-- Mockup Block -->
                            <h4 class="font-size-3">Customer Reviews </h4>
                            <div class="row mb-8">
                                <div class="col-md-6 mb-6 mb-md-0">
                                    <div class="d-flex  align-items-center mb-4">
                                        <span class="font-size-15 font-weight-bold">{{response.bookAverageReviewRating}}</span>
                                        <div class="ml-3 h6 mb-0">
                                            <span class="font-weight-normal">{{response.data[0].bookReviews.length }} reviews</span>
                                            <div class="text-yellow-darker">
                                                <div>
                                                    <i class="cursor font-size-lg"
                                                        [ngClass]="(response.bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                        : (response.bookAverageReviewRating > 0 && response.bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                    <i  class="cursor font-size-lg"
                                                        [ngClass]="(response.bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                        : (response.bookAverageReviewRating > 1 && response.bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                    <i  class="cursor font-size-lg"
                                                        [ngClass]="(response.bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                        : (response.bookAverageReviewRating > 2 && response.bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                    <i  class="cursor font-size-lg"
                                                        [ngClass]="(response.bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                        : (response.bookAverageReviewRating > 3 && response.bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                    <i  class="cursor font-size-lg"
                                                        [ngClass]="(response.bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                        : (response.bookAverageReviewRating > 4 && response.bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
    
                                    <div class="d-md-flex">
                                        <button type="button" class="btn btn-outline-dark rounded-0 px-5 mb-3 mb-md-0">See all reviews</button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <!-- Ratings -->
                                    <ul class="list-unstyled pl-xl-4">
                                        <li class="py-2">
                                            <a class="row align-items-center mx-gutters-2 font-size-2" href="javascript:;">
                                                <div class="col-auto">
                                                    <span class="text-dark">5 stars</span>
                                                </div>
                                                <div class="col px-0">
                                                    <div class="progress bg-white-100" style="height: 7px;">
                                                        <div class="progress-bar bg-yellow-darker" role="progressbar" 
                                                        [style.width]="reviewPercantages.fiveStarPercentage" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-2">
                                                    <span class="text-secondary">{{response.starCounts.fiveStarCount}}</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li class="py-2">
                                            <a class="row align-items-center mx-gutters-2 font-size-2" href="javascript:;">
                                                <div class="col-auto">
                                                    <span class="text-dark">4 stars</span>
                                                </div>
                                                <div class="col px-0">
                                                    <div class="progress bg-white-100" style="height: 7px;">
                                                        <div class="progress-bar bg-yellow-darker" role="progressbar" [style.width]="reviewPercantages.fourStarPercentage" aria-valuenow="53" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-2">
                                                    <span class="text-secondary">{{response.starCounts.fourStarCount}}</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li class="py-2">
                                            <a class="row align-items-center mx-gutters-2 font-size-2" href="javascript:;">
                                                <div class="col-auto">
                                                    <span class="text-dark">3 stars</span>
                                                </div>
                                                <div class="col px-0">
                                                    <div class="progress bg-white-100" style="height: 7px;">
                                                        <div class="progress-bar bg-yellow-darker" role="progressbar" 
                                                        [style.width]="reviewPercantages.threeStarPercentage" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-2">
                                                    <span class="text-secondary">{{response.starCounts.threeStarCount}}</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li class="py-2">
                                            <a class="row align-items-center mx-gutters-2 font-size-2" href="javascript:;">
                                                <div class="col-auto">
                                                    <span class="text-dark">2 stars</span>
                                                </div>
                                                <div class="col px-0">
                                                    <div class="progress bg-white-100" style="height: 7px;">
                                                        <div class="progress-bar bg-yellow-darker" role="progressbar" 
                                                        [style.width]="reviewPercantages.twoStarPercentage" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-2">
                                                    <span class="text-secondary">{{response.starCounts.twoStarCount}}</span>
                                                </div>
                                            </a>
                                        </li>
                                        <li class="py-2">
                                            <a class="row align-items-center mx-gutters-2 font-size-2" href="javascript:;">
                                                <div class="col-auto">
                                                    <span class="text-dark">1 stars</span>
                                                </div>
                                                <div class="col px-0">
                                                    <div class="progress bg-white-100" style="height: 7px;">
                                                        <div class="progress-bar bg-yellow-darker" role="progressbar" 
                                                        [style.width]="reviewPercantages.oneStarPercentage" aria-valuenow="1" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                                <div class="col-2">
                                                    <span class="text-secondary">{{response.starCounts.oneStarCount}}</span>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                    <!-- End Ratings -->
                                </div>
                            </div>
    
                            <h4 class="font-size-3 mb-8">{{response.reviewCount}} reviews</h4>
    
                            <ul class="list-unstyled mb-8">
                                <li class="mb-4 pb-5 border-bottom" *ngFor="let br of response.bookReviews">
                                    <div class="d-flex align-items-center mb-3">
                                        <h6 class="mb-0">{{br.commentTitleEn}}</h6>
                                        <div class="text-yellow-darker ml-3">
                                                <i (click)="br.raiting = 1" class="fa-star cursor font-size-lg"
                                                    [ngClass]="br.raiting >= 1 ? 'fa-solid text-yellow-darker': 'fa-regular'"></i>
                                                <i (click)="br.raiting = 2" class="fa-star cursor font-size-lg"
                                                    [ngClass]="(br.raiting >= 2) ? 'fa-solid text-yellow-darker': 'fa-regular'"></i>
                                                <i (click)="br.raiting = 3" class="fa-star cursor font-size-lg"
                                                    [ngClass]="(br.raiting >= 3) ? 'fa-solid text-yellow-darker': 'fa-regular'"></i>
                                                <i (click)="br.raiting = 4" class="fa-star cursor font-size-lg"
                                                    [ngClass]="(br.raiting >= 4) ? 'fa-solid text-yellow-darker': 'fa-regular'"></i>
                                                <i (click)="br.raiting = 5" class="fa-star cursor font-size-lg"
                                                    [ngClass]="(br.raiting == 5) ? 'fa-solid text-yellow-darker': 'fa-regular'"></i>
                                        </div>
                                    </div>
                                    <p class="mb-4 text-lh-md">{{br.commentEn}}</p>
                                    <div class="text-gray-600 mb-4">{{getUserName(br.userId)}}, {{ formatDate(br.createdAt) }}</div>
                                </li>
                            </ul>
    
                            <div class="search-results" infiniteScroll [infiniteScrollDistance]="1" [infiniteScrollThrottle]="50"
                                (scrolled)="feedData()">
                            </div>
                            <!-- End Mockup Block -->
                        </div>
                    </div>
                    <!-- End Tab Content -->
                </div>
            
            <!-- End Features Section -->


            <section class="space-bottom-3">
                <div class="container">
                    <header class="mb-5 d-md-flex justify-content-between align-items-center">
                        <h2 class="font-size-7 mb-3 mb-md-0">Related Books</h2>
                    </header>

                     <div class="js-slick-carousel products no-gutters border-top border-left border-right"
                        data-arrows-classes="u-slick__arrow u-slick__arrow-centered--y"
                        data-arrow-left-classes="fas fa-chevron-left u-slick__arrow-inner u-slick__arrow-inner--left ml-lg-n10"
                        data-arrow-right-classes="fas fa-chevron-right u-slick__arrow-inner u-slick__arrow-inner--right mr-lg-n10"
                        data-slides-show="5"
                        data-responsive='[{
                           "breakpoint": 1500,
                           "settings": {
                             "slidesToShow": 4
                           }
                        },{
                           "breakpoint": 1199,
                           "settings": {
                             "slidesToShow": 3
                           }
                        }, {
                           "breakpoint": 992,
                           "settings": {
                             "slidesToShow": 2
                           }
                        }, {
                           "breakpoint": 554,
                           "settings": {
                             "slidesToShow": 2
                           }
                        }]'>
                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[0].bookId}}" class="d-block">
                                            
                                            <div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[0].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div>
                                        </a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[0].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[0].bookId}}">{{relatedBooks[0].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[0].authorId}}" class="text-gray-700">{{relatedBooks[0].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[0].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[0].bookAverageReviewRating > 0 && relatedBooks[0].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[0].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[0].bookAverageReviewRating > 1 && relatedBooks[0].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[0].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[0].bookAverageReviewRating > 2 && relatedBooks[0].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[0].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[0].bookAverageReviewRating > 3 && relatedBooks[0].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[0].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[0].bookAverageReviewRating > 4 && relatedBooks[0].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[0].bookId}}" style="margin-left: 7px;">{{relatedBooks[0].reviewCount}}</a>
                                                </div>


                                        <div *ngIf="relatedBooks[0].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[0].prices[0].discountedPriceAmount}}</span>{{relatedBooks[0].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[0].prices[0].priceAmount}}</span>{{relatedBooks[0].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[0].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[0].prices[0].priceAmount}}</span>{{relatedBooks[0].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[0].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[0].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[0].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[1].bookId}}" class="d-block"><div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[1].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div></a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[1].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[1].bookId}}">{{relatedBooks[1].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[1].authorId}}" class="text-gray-700">{{relatedBooks[1].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[1].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[1].bookAverageReviewRating > 0 && relatedBooks[1].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[1].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[1].bookAverageReviewRating > 1 && relatedBooks[1].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[1].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[1].bookAverageReviewRating > 2 && relatedBooks[1].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[1].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[1].bookAverageReviewRating > 3 && relatedBooks[1].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[1].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[1].bookAverageReviewRating > 4 && relatedBooks[1].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[1].bookId}}" style="margin-left: 7px;">{{relatedBooks[1].reviewCount}}</a>
                                                </div>
                                                <div *ngIf="relatedBooks[1].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[1].prices[0].discountedPriceAmount}}</span>{{relatedBooks[1].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[1].prices[0].priceAmount}}</span>{{relatedBooks[1].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[1].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[1].prices[0].priceAmount}}</span>{{relatedBooks[1].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[1].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[1].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[1].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[2].bookId}}" class="d-block"><div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[2].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div></a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[2].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[2].bookId}}">{{relatedBooks[2].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[2].authorId}}" class="text-gray-700">{{relatedBooks[2].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[2].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[2].bookAverageReviewRating > 0 && relatedBooks[2].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[2].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[2].bookAverageReviewRating > 1 && relatedBooks[2].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[2].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[2].bookAverageReviewRating > 2 && relatedBooks[2].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[2].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[2].bookAverageReviewRating > 3 && relatedBooks[2].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[2].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[2].bookAverageReviewRating > 4 && relatedBooks[2].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[2].bookId}}" style="margin-left: 7px;">{{relatedBooks[2].reviewCount}}</a>
                                                </div>
                                                <div *ngIf="relatedBooks[2].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[2].prices[0].discountedPriceAmount}}</span>{{relatedBooks[2].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[2].prices[0].priceAmount}}</span>{{relatedBooks[2].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[2].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[2].prices[0].priceAmount}}</span>{{relatedBooks[2].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[2].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[2].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[2].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[3].bookId}}" class="d-block"><div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[3].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div></a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[3].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[3].bookId}}">{{relatedBooks[3].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[3].authorId}}" class="text-gray-700">{{relatedBooks[3].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[3].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[3].bookAverageReviewRating > 0 && relatedBooks[3].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[3].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[3].bookAverageReviewRating > 1 && relatedBooks[3].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[3].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[3].bookAverageReviewRating > 2 && relatedBooks[3].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[3].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[3].bookAverageReviewRating > 3 && relatedBooks[3].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[3].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[3].bookAverageReviewRating > 4 && relatedBooks[3].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[3].bookId}}" style="margin-left: 7px;">{{relatedBooks[3].reviewCount}}</a>
                                                </div>
                                                <div *ngIf="relatedBooks[3].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[3].prices[0].discountedPriceAmount}}</span>{{relatedBooks[3].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[3].prices[0].priceAmount}}</span>{{relatedBooks[3].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[3].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[3].prices[0].priceAmount}}</span>{{relatedBooks[3].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[3].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[3].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[3].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[4].bookId}}" class="d-block"><div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[4].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div></a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[4].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[4].bookId}}">{{relatedBooks[4].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[4].authorId}}" class="text-gray-700">{{relatedBooks[4].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[4].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[4].bookAverageReviewRating > 0 && relatedBooks[4].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[4].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[4].bookAverageReviewRating > 1 && relatedBooks[4].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[4].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[4].bookAverageReviewRating > 2 && relatedBooks[4].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[4].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[4].bookAverageReviewRating > 3 && relatedBooks[4].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[4].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[4].bookAverageReviewRating > 4 && relatedBooks[4].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[4].bookId}}" style="margin-left: 7px;">{{relatedBooks[4].reviewCount}}</a>
                                                </div>
                                                <div *ngIf="relatedBooks[4].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[4].prices[0].discountedPriceAmount}}</span>{{relatedBooks[4].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[4].prices[0].priceAmount}}</span>{{relatedBooks[4].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[4].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[4].prices[0].priceAmount}}</span>{{relatedBooks[4].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[4].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[4].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[4].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[5].bookId}}" class="d-block"><div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[5].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div></a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[5].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[5].bookId}}">{{relatedBooks[5].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[5].authorId}}" class="text-gray-700">{{relatedBooks[5].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[5].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[5].bookAverageReviewRating > 0 && relatedBooks[5].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[5].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[5].bookAverageReviewRating > 1 && relatedBooks[5].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[5].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[5].bookAverageReviewRating > 2 && relatedBooks[5].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[5].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[5].bookAverageReviewRating > 3 && relatedBooks[5].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[5].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[5].bookAverageReviewRating > 4 && relatedBooks[5].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[5].bookId}}" style="margin-left: 7px;">{{relatedBooks[5].reviewCount}}</a>
                                                </div>
                                                <div *ngIf="relatedBooks[5].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[5].prices[0].discountedPriceAmount}}</span>{{relatedBooks[5].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[5].prices[0].priceAmount}}</span>{{relatedBooks[5].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[5].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[5].prices[0].priceAmount}}</span>{{relatedBooks[5].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[5].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[5].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[5].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[6].bookId}}" class="d-block"><div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[6].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div></a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[6].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[6].bookId}}">{{relatedBooks[6].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[6].authorId}}" class="text-gray-700">{{relatedBooks[6].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[6].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[6].bookAverageReviewRating > 0 && relatedBooks[6].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[6].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[6].bookAverageReviewRating > 1 && relatedBooks[6].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[6].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[6].bookAverageReviewRating > 2 && relatedBooks[6].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[6].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[6].bookAverageReviewRating > 3 && relatedBooks[6].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[6].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[6].bookAverageReviewRating > 4 && relatedBooks[6].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[6].bookId}}" style="margin-left: 7px;">{{relatedBooks[6].reviewCount}}</a>
                                                </div>
                                                <div *ngIf="relatedBooks[6].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[6].prices[0].discountedPriceAmount}}</span>{{relatedBooks[6].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[6].prices[0].priceAmount}}</span>{{relatedBooks[6].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[6].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[6].prices[0].priceAmount}}</span>{{relatedBooks[6].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[6].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[6].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[6].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="product">
                            <div class="product__inner overflow-hidden p-3 p-md-4d875">
                                <div class="woocommerce-LoopProduct-link woocommerce-loop-product__link d-block position-relative">
                                    <div class="woocommerce-loop-product__thumbnail">
                                        <a href="/book-detail/{{relatedBooks[7].bookId}}" class="d-block"><div style="width: 120px; height: 180px; display: flex; justify-content: center; align-items: center; margin: 0 auto;">
                                                <img [src]="relatedBooks[7].mainImgUrl" class="img-fluid d-block mx-auto attachment-shop_catalog size-shop_catalog wp-post-image img-fluid w-100 h-100" style="object-fit: contain !important;"  alt="image-description">
                                            </div></a>
                                    </div>
                                    <div class="woocommerce-loop-product__body product__body pt-3 bg-white">
                                        <div class="text-uppercase font-size-1 mb-1 text-truncate"><a href="/book-detail/{{relatedBooks[7].bookId}}">Hardcover</a></div>
                                        <h2 class="woocommerce-loop-product__title product__title h6 text-lh-md mb-1 text-height-2 crop-text-2 h-dark"><a href="/book-detail/{{relatedBooks[7].bookId}}">{{relatedBooks[7].titleEn}}</a></h2>
                                        <div class="font-size-2  mb-1 text-truncate"><a href="/author-detail/{{relatedBooks[7].authorId}}" class="text-gray-700">{{relatedBooks[7].authorName}}</a></div>
                                        <div class="form-group mt-1 d-flex">
                                                    <div>
                                                        <i class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[7].bookAverageReviewRating >= 1) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[7].bookAverageReviewRating > 0 && relatedBooks[7].bookAverageReviewRating < 1) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[7].bookAverageReviewRating >= 2) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[7].bookAverageReviewRating > 1 && relatedBooks[7].bookAverageReviewRating < 2) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[7].bookAverageReviewRating >= 3) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[7].bookAverageReviewRating > 2 && relatedBooks[7].bookAverageReviewRating < 3) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[7].bookAverageReviewRating >= 4) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[7].bookAverageReviewRating > 3 && relatedBooks[7].bookAverageReviewRating < 4) ? 'fa-solid star-color half-star' : 'fa-star fa-regular'"></i>
                                                        <i  class="cursor font-size-lg"
                                                            [ngClass]="(relatedBooks[7].bookAverageReviewRating === 5) ? 'fa-solid fa-star star-color' 
                                                            : (relatedBooks[7].bookAverageReviewRating > 4 && relatedBooks[7].bookAverageReviewRating < 5) ? 'fa-solid fa-star-half-stroke star-color' : 'fa-regular fa-star'"></i>
                                                    </div>
                                                    <a href="/book-detail/{{relatedBooks[7].bookId}}" style="margin-left: 7px;">{{relatedBooks[7].reviewCount}}</a>
                                                </div>
                                                <div *ngIf="relatedBooks[7].prices[0].discountedPriceAmount !== null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[7].prices[0].discountedPriceAmount}}</span>{{relatedBooks[7].prices[0].priceCurrency}}</span></ins>
                                                    <del class="font-size-1 font-weight-regular text-gray-700"><span class="woocommerce-Price-amount amount font-size-1 text-primary-home-v3 opacity-md"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[7].prices[0].priceAmount}}</span>{{relatedBooks[7].prices[0].priceCurrency}}</span></del>
                                                </div>


                                                <div *ngIf="relatedBooks[7].prices[0].discountedPriceAmount === null" class="price d-flex align-items-center font-weight-medium font-size-3">
                                                    <ins class="text-decoration-none mr-2" 
                                                    ><span class="woocommerce-Price-amount amount font-size-22 font-weight-medium text-dark"><span class="woocommerce-Price-currencySymbol">{{relatedBooks[7].prices[0].priceAmount}}</span>{{relatedBooks[7].prices[0].priceCurrency}}</span></ins>
                                                </div>

                                    </div>
                                    <div class="product__hover d-flex align-items-center">
                                        <a href="/book-detail/{{relatedBooks[7].bookId}}" class="text-uppercase text-dark h-dark font-weight-medium mr-auto">
                                            <span class="product__add-to-cart">ADD TO CART</span>
                                            <span class="product__add-to-cart-icon font-size-4"><i class="flaticon-icon-126515"></i></span>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[7].bookId}}" class="mr-1 h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-switch"></i>
                                        </a>
                                        <a href="/book-detail/{{relatedBooks[7].bookId}}" class="h-p-bg btn btn-outline-primary border-0">
                                            <i class="flaticon-heart"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
</div>
<!-- ====== END MAIN CONTENT ====== -->
